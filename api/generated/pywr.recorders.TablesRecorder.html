

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pywr.recorders.TablesRecorder &mdash; Pywr 0.5dev documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pywr.recorders.HydropowerRecorder" href="pywr.recorders.HydropowerRecorder.html" />
    <link rel="prev" title="pywr.recorders.CSVRecorder" href="pywr.recorders.CSVRecorder.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Pywr
          

          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installing Pywr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../formulation.html">Problem formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json.html">JSON model format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending_pywr/index.html">Extending Pywr</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../pywr.html">Python API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../pywr.optimisation.html">pywr.optimisation package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.parameters.html">Parameters</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../pywr.recorders.html">Recorders</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../pywr.recorders.html#base-recorder-classes">Base Recorder classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pywr.recorders.html#numpy-array-recorders">Numpy array recorders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pywr.recorders.html#flow-duration-curve-recorders">Flow duration curve recorders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pywr.recorders.html#deficit-recorders">Deficit recorders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pywr.recorders.html#statistical-recorders">Statistical recorders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pywr.recorders.html#index-recorders">Index recorders</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../pywr.recorders.html#file-recorders">File recorders</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pywr.recorders.CSVRecorder.html">pywr.recorders.CSVRecorder</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">pywr.recorders.TablesRecorder</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pywr.recorders.html#hydro-power-recorders">Hydro-power recorders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.domains.html">pywr.domains package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.notebook.html">Notebook Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Pywr</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../pywr.html">Pywr reference documentation.</a> &raquo;</li>
        
          <li><a href="../pywr.recorders.html">Recorders</a> &raquo;</li>
        
      <li>pywr.recorders.TablesRecorder</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/generated/pywr.recorders.TablesRecorder.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pywr-recorders-tablesrecorder">
<h1>pywr.recorders.TablesRecorder<a class="headerlink" href="#pywr-recorders-tablesrecorder" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pywr.recorders.TablesRecorder">
<em class="property">class </em><code class="descclassname">pywr.recorders.</code><code class="descname">TablesRecorder</code><span class="sig-paren">(</span><em>model</em>, <em>h5file</em>, <em>nodes=None</em>, <em>parameters=None</em>, <em>where='/'</em>, <em>time='/time'</em>, <em>routes_flows=None</em>, <em>routes='/routes'</em>, <em>scenarios='/scenarios'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pywr.recorders.TablesRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>A recorder that saves to PyTables CArray</p>
<p>This Recorder creates a CArray for every node passed to the constructor.
Each CArray stores the data for all scenarios on the specific node. This
is useful for analysis of Node statistics across multiple scenarios.</p>
<dl class="method">
<dt id="pywr.recorders.TablesRecorder.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model</em>, <em>h5file</em>, <em>nodes=None</em>, <em>parameters=None</em>, <em>where='/'</em>, <em>time='/time'</em>, <em>routes_flows=None</em>, <em>routes='/routes'</em>, <em>scenarios='/scenarios'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pywr.recorders.TablesRecorder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>model</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>pywr.model.Model</cite></span></dt>
<dd><p class="first last">The model to record nodes from.</p>
</dd>
<dt><strong>h5file</strong> <span class="classifier-delimiter">:</span> <span class="classifier">tables.File or filename</span></dt>
<dd><p class="first last">The tables file handle or filename to attach the CArray objects to. If a
filename is given the object will open and close the file handles.</p>
</dd>
<dt><strong>nodes</strong> <span class="classifier-delimiter">:</span> <span class="classifier">iterable or None</span></dt>
<dd><p class="first last">Nodes to save in the tables database. Can be an iterable of Node objects or
node names. It can also be a iterable of tuples with a node specific where
keyword as the first item and a Node object or name as the second item. If
an iterable of tuples is provided then the node specific where keyword is
used in preference to the where keyword (see below).</p>
</dd>
<dt><strong>parameters</strong> <span class="classifier-delimiter">:</span> <span class="classifier">iterable or None</span></dt>
<dd><p class="first last">Parameters to save. Similar to the nodes keyword, except refers to Parameter
objects or names thereof.</p>
</dd>
<dt><strong>where</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Default path to create the CArrays inside the database.</p>
</dd>
<dt><strong>time</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Default full node path to save a time tables.Table. If None no table is created.</p>
</dd>
<dt><strong>scenarios</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Default full node path to save a scenarios tables.Table. If None no table is created.</p>
</dd>
<dt><strong>routes_flows</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Relative (to <cite>where</cite>) node path to save the routes flow CArray. If None (default) no array is created.</p>
</dd>
<dt><strong>routes</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Full node path to save the routes tables.Table. If None not table is created.</p>
</dd>
<dt><strong>filter_kwds</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd><p class="first last">Filter keywords to pass to tables.open_file when opening a file.</p>
</dd>
<dt><strong>mode</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Model argument to pass to tables.open_file. Defaults to ‘w’</p>
</dd>
<dt><strong>metadata</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd><p class="first last">Dict of user defined attributes to save on the root node (<cite>root._v_attrs</cite>)</p>
</dd>
<dt><strong>create_directories</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">If a file path is given and create_directories is True then attempt to make the intermediate
directories. This uses os.makedirs() underneath.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pywr.recorders.TablesRecorder.__init__" title="pywr.recorders.TablesRecorder.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(model,&nbsp;h5file[,&nbsp;nodes,&nbsp;parameters,&nbsp;…])</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">after</span></code>()</td>
<td>Save data to the tables</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">aggregated_value</span></code>(self)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">before</span></code>(self)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish</span></code>(self)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code>(type&nbsp;cls,&nbsp;model,&nbsp;data)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">register</span></code>(type&nbsp;cls)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset</span></code>(self)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">setup</span></code>()</td>
<td>Setup the tables</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">unregister</span></code>(type&nbsp;cls)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>(self)</td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">agg_func</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">children</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">comment</span></code></td>
<td>comment: basestring</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">epsilon</span></code></td>
<td>epsilon: ‘double’</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">ignore_nan</span></code></td>
<td>ignore_nan: ‘bool’</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_constraint</span></code></td>
<td>is_constraint: ‘bool’</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_objective</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">model</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">parents</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pywr.recorders.HydropowerRecorder.html" class="btn btn-neutral float-right" title="pywr.recorders.HydropowerRecorder" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pywr.recorders.CSVRecorder.html" class="btn btn-neutral float-left" title="pywr.recorders.CSVRecorder" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright (C) 2014-18 Joshua Arnott, James E. Tomlinson, Atkins, University of Manchester

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>